<!DOCTYPE html>
[core]
	repositoryformatversion = 0
	filemode = true
	bare = false
	logallrefupdates = true
[remote "origin"]
	url = https://github.com/pewpi-infinity/infinity-brain-111.git
	fetch = +refs/heads/main:refs/remotes/origin/main
[branch "main"]
	remote = origin
	merge = refs/heads/main
<!-- ğŸ¶ PEWPI SIGN-IN (GLOBAL) -->
<div id="pewpi-gate">
  <h1>ğŸ¶ pewpi</h1>
  <input id="pewpi_user" placeholder="Handle">
  <button onclick="pewpiUnlock()">Enter</button>
</div>
<script>
function pewpiUnlock(){
  localStorage.setItem("pewpi_user", document.getElementById("pewpi_user").value);
  document.getElementById("pewpi-gate").style.display="none";
  document.body.classList.add("pewpi-live");
}
if(localStorage.getItem("pewpi_user")){
  document.addEventListener("DOMContentLoaded",()=>{
    const g=document.getElementById("pewpi-gate");
    if(g) g.style.display="none";
    document.body.classList.add("pewpi-live");
  });
}
</script>
<style>
#pewpi-gate{position:fixed;inset:0;background:#0e0e0e;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:9999}
#pewpi-gate button{background:#ff69b4;border:0;padding:10px 18px}
body:not(.pewpi-live)>*:not(#pewpi-gate){filter:blur(6px);pointer-events:none}
</style>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>âˆ Infinity- Socializer</title>
  <!-- your styles -->
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="themes.css">
  <!-- Mongoose.os Integration -->
  <script src="https://pewpi-infinity.github.io/mongoose.os/shared-components.js"></script>
</head>
<body>
<!-- C14_MARIO_TOKEN_PANEL_START -->
<style>
.c14wrap{font-family:monospace;background:#0b0f14;color:#e6edf3;padding:14px}
.c14card{border:1px solid #30363d;border-radius:12px;padding:14px;margin:10px 0}
.c14value{font-size:2.2em;text-align:center;color:#ffd700;line-height:1.1}
.c14row{display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap}
.c14pill{border:1px solid #30363d;border-radius:999px;padding:6px 10px}
.c14btn{display:block;width:100%;padding:14px;border-radius:12px;border:1px solid #30363d;background:#111827;color:#e6edf3;font-size:1em}
.c14note{opacity:.85;font-size:.85em;margin-top:8px}
</style>
<div class="c14wrap">
  <div class="c14card">
    <div class="c14row">
      <div class="c14pill">ğŸ§±</div>
      <div class="c14pill">ğŸ„</div>
      <div class="c14pill">â­</div>
    </div>
    <div class="c14value">Token Value: 53</div>
    <div class="c14note">Repo: Infinity- â€¢ Updated: 2025-12-20 09:57:08</div>
  </div>

  <div class="c14card">
    <div class="c14note">Pay via PayPal (email receiver). Amount is set to token value.</div>
    <form action="https://www.paypal.com/cgi-bin/webscr" method="get" target="_blank">
      <input type="hidden" name="cmd" value="_xclick">
      <input type="hidden" name="business" value="watsonkris61@gmail.com">
      <input type="hidden" name="item_name" value="__C14_REPO__ Token ğŸ§±ğŸ„â­">
      <input type="hidden" name="amount" value="__C14_VALUE__">
      <input type="hidden" name="currency_code" value="USD">
      <button class="c14btn" type="submit">Pay $__C14_VALUE__ via PayPal</button>
    </form>
  </div>

  <div class="c14card">
    <div class="c14note">
      Mario economy: ğŸ§± base â€¢ ğŸ„ growth â€¢ â­ acceleration<br>
      (This panel is additive and does not replace your existing UI.)
    </div>
  </div>
</div>
<!-- C14_MARIO_TOKEN_PANEL_END -->
  <!-- LOCAL (NON-GOOGLE) SIGN-IN -->
  <div id="authSection" class="auth-section" style="min-height:100vh; display:flex; align-items:center; justify-content:center; background:radial-gradient(circle at top, #0f172a 0%, #020617 55%, #000 100%);">
    <div class="auth-container" style="background:rgba(3,7,18,.65); border:1px solid rgba(148,163,184,.12); border-radius:18px; padding:20px 18px 18px; width:min(420px, 94vw); color:#e2e8f0; backdrop-filter:blur(6px);">
      <div class="logo" style="text-align:center; margin-bottom:14px;">
        <h1 style="margin:0; font-size:1.35rem;">Infinity</h1>
        <p class="tagline" style="opacity:.6; margin-top:4px;">Rogers Core System</p>
      </div>

      <p class="auth-info" style="font-size:.68rem; margin-bottom:9px;">
      </p>

      <label style="display:block; font-size:.6rem; margin-bottom:3px;">Display name</label>
      <input id="inf-name"
             placeholder="Kris"
             style="width:100%; padding:7px 9px; border-radius:8px; border:1px solid rgba(148,163,184,.25); background:rgba(15,23,42,.35); color:#fff; margin-bottom:6px;">

      <label style="display:block; font-size:.6rem; margin-bottom:3px;">Email (optional)</label>
      <input id="inf-email"
             type="email"
             placeholder="you@example.com"
             style="width:100%; padding:7px 9px; border-radius:8px; border:1px solid rgba(148,163,184,.25); background:rgba(15,23,42,.35); color:#fff; margin-bottom:12px;">

      <button onclick="infinityLogin()"
              style="width:100%; background:#0ea5e9; border:none; border-radius:8px; padding:8px 0; font-weight:600; cursor:pointer;">
        Sign in to Infinity
      </button>

      <button onclick="infinityBypass()"
              style="width:100%; margin-top:8px; background:transparent; border:1px solid rgba(148,163,184,.35); border-radius:8px; padding:6px 0; font-size:.6rem; color:#e2e8f0; cursor:pointer;">
        ğŸ”“ Bypass (demo / offline)
      </button>

      <p class="auth-email" style="margin-top:10px; font-size:.55rem; opacity:.5;">
        Contact: marvaseater@gmail.com
      </p>
    </div>
  </div>

  <!-- MAIN APP (hidden until logged in) -->
  <div id="mainApp" class="main-app" style="display:none;">
    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar">
      <div class="sidebar-header">
        <h2>Infinity</h2>
        <button class="sidebar-toggle" onclick="toggleSidebar()">â˜°</button>
      </div>

      <div class="sidebar-content">
        <div class="sidebar-section">
          <h3>Navigation</h3>
          <button class="sidebar-btn" onclick="window.location.href='index.html'">ğŸ  Home</button>
          <button class="sidebar-btn" onclick="window.location.href='index-portal.html'">ğŸ”§ Portal</button>
          <button class="sidebar-btn" onclick="window.location.href='index-marketplace.html'">ğŸª Marketplace</button>
          <button class="sidebar-btn" onclick="window.location.href='index-socializer.html'">ğŸ‘¥ Socializer</button>
        </div>

        <div class="sidebar-section">
          <h3>Infinity Tools</h3>
          <button class="sidebar-btn" onclick="loadApp('peerlink')">ğŸ“ PeerLink P2P</button>
          <button class="sidebar-btn" onclick="loadApp('deployer')">ğŸš€ Deployer</button>
          <button class="sidebar-btn" onclick="loadApp('funding')">ğŸ’° Funding Pad</button>
          <button class="sidebar-btn" onclick="loadApp('risk')">ğŸ² RISK Companion</button>
          <button class="sidebar-btn" onclick="loadApp('fieldlab')">ğŸ”¬ Field Lab</button>
          <button class="sidebar-btn" onclick="window.location.href='index-treasury.html'">ğŸ›ï¸ Treasury Map</button>
        </div>

        <div class="sidebar-section">
          <h3>Mongoose Research</h3>
          <div id="researchTokens" class="research-tokens">
            <button class="session-btn" onclick="window.open('https://github.com/pewpi-infinity/mongoose.os/tree/main/infinity_research_output', '_blank')">ğŸ”¬ Research Tokens</button>
            <button class="session-btn" onclick="window.open('https://github.com/pewpi-infinity/mongoose.os/tree/main/carts', '_blank')">ğŸ›’ Cart System</button>
          </div>
        </div>

        <div class="sidebar-section">
          <h3>Chat Sessions</h3>
          <div id="chatSessions" class="chat-sessions">
            <button class="session-btn" onclick="loadChatSession('default')">ğŸ’¬ Main Chat</button>
            <button class="session-btn new-session" onclick="newChatSession()">+ New Chat</button>
          </div>
        </div>

        <div class="sidebar-section">
          <h3>Developer Tools</h3>
          <label class="toggle-switch">
            <input type="checkbox" id="devMode" onchange="toggleDevMode()">
            <span class="slider"></span>
            <span class="label-text">Rogers Dev Mode</span>
          </label>
          <button class="sidebar-btn" onclick="openConsole()">ğŸ” Console</button>
          <button class="sidebar-btn" onclick="viewLogs()">ğŸ“‹ View Logs</button>
          <button class="sidebar-btn" onclick="startTimeMachineAutoCycle()">â° Auto Theme Cycle</button>
        </div>

        <div class="sidebar-section">
          <h3>Account</h3>
          <div class="user-profile">
            <img id="sidebarAvatar" class="sidebar-avatar" src="" alt="User">
            <div class="user-details">
              <div id="sidebarName" class="user-name"></div>
              <div id="sidebarTokens" class="user-tokens">Tokens: 0</div>
            </div>
          </div>
          <button class="sidebar-btn logout-btn" onclick="signOut()">ğŸšª Sign Out</button>
        </div>
      </div>
    </aside>

    <!-- Hidden hook divs -->
    <div id="rogers-button" style="display:none;"></div>
    <div id="intake-agent" style="display:none;"></div>
    <div id="infinity-deployer" style="display:none;"></div>
    <div id="nwo-panel" style="display:none;"></div>
    <div id="p2p-panel" style="display:none;"></div>
    <div id="funding-pad" style="display:none;"></div>
    <div id="marketplace-panel" style="display:none;"></div>
    <div id="watson-core" style="display:none;"></div>
    <div id="gemini-image-intake" style="display:none;"></div>

    <!-- Vector Transition placeholder -->
    <div id="vectorTransition" class="vector-transition" style="display:none;">
      <div class="space-grid"></div>
      <div class="hydrogen-cloud"></div>
      <svg id="vectorCanvas" width="100%" height="100%" style="position:absolute; top:0; left:0;"></svg>
      <div id="vectorGuide" class="vector-guide">ğŸ§ </div>
      <div id="portal" class="portal" style="display:none;"></div>
    </div>

    <!-- Loading overlay -->
    <div id="loadingOverlay" class="loading-overlay" style="display:none;">
      <div class="loading-content">
        <div class="loading-spinner"></div>
        <div class="loading-text" id="loadingText">Loading...</div>
      </div>
    </div>

    <!-- MAIN CONTENT -->
    <div class="main-content">
      <header>
        <div class="header-container" style="display:flex; justify-content:space-between; align-items:center; padding:10px 14px;">
          <div class="logo">
            <h1 style="margin:0; font-size:1.1rem;">Infinity</h1>
            <span class="core-label" style="font-size:.6rem; opacity:.6;">Rogers Core</span>
          </div>
          <div class="user-info" style="display:flex; gap:.4rem; align-items:center;">
            <img id="userAvatar" class="user-avatar" src="" alt="User" style="width:34px; height:34px; border-radius:9999px; background:#0f172a;">
            <button class="btn-logout" onclick="signOut()" style="background:#0f172a; color:#fff; border:none; border-radius:6px; padding:5px 10px; font-size:.62rem;">Sign Out</button>
          </div>
        </div>
      </header>

      <main style="padding:12px;">
        <!-- Breadcrumb Navigation -->
        <nav style="font-size:.7rem; margin-bottom:12px; opacity:.7;">
          <a href="index.html" style="text-decoration:none; color:inherit;">ğŸ  Home</a> &gt; <span>ğŸ‘¥ Socializer</span>
        </nav>

        <!-- MAIN HUB -->
        <section id="mainHub" class="hub-selector" style="display:none;">
          <h2>Infinity Portal Hub</h2>
          <p class="hub-subtitle">Choose Your Destination</p>
          <div class="hub-grid" style="display:grid; gap:14px; grid-template-columns:repeat(auto-fit, minmax(160px, 1fr));">
            <div class="hub-card zoom-card" onclick="showHub('portal')">
              <div class="hub-icon">ğŸ </div>
              <h3>Portal</h3>
              <p>Personal Daily Utilities</p>
              <button class="btn-primary">Enter Portal</button>
            </div>
            <div class="hub-card zoom-card" onclick="showHub('marketplace')">
              <div class="hub-icon">ğŸª</div>
              <h3>Marketplace</h3>
              <p>Trade & Infinity Tokens</p>
              <button class="btn-primary">Enter Marketplace</button>
            </div>
            <div class="hub-card zoom-card" onclick="showHub('socializer')">
              <div class="hub-icon">ğŸ‘¥</div>
              <h3>Socializer</h3>
              <p>People & Media</p>
              <button class="btn-primary">Enter Socializer</button>
            </div>
          </div>
        </section>

        <!-- PORTAL HUB -->
        <section id="portalHub" class="app-hub" style="display:none;">
          <h2>Portal - Personal Daily Utilities</h2>
          <div class="hub-grid" style="display:grid; gap:12px; grid-template-columns:repeat(auto-fit, minmax(140px, 1fr));">
            <div class="hub-card" onclick="loadApp('calculator')"><div class="hub-icon">ğŸ”¢</div><h3>Calculator</h3></div>
            <div class="hub-card" onclick="loadApp('alarm')"><div class="hub-icon">â°</div><h3>Alarm</h3></div>
            <div class="hub-card" onclick="loadApp('bible')"><div class="hub-icon">ğŸ“–</div><h3>Bible</h3></div>
            <div class="hub-card" onclick="loadApp('pets')"><div class="hub-icon">ğŸ¾</div><h3>Pet Care</h3></div>
            <div class="hub-card" onclick="loadApp('therapy')"><div class="hub-icon">ğŸ’ª</div><h3>Therapy</h3></div>
            <div class="hub-card" onclick="loadApp('garden')"><div class="hub-icon">ğŸŒ±</div><h3>Garden</h3></div>
          </div>
          <button class="btn-back" onclick="backToMainHub()">â† Back to Main Hub</button>
        </section>

        <!-- MARKETPLACE HUB -->
        <section id="marketplaceHub" class="app-hub" style="display:none;">
          <h2>Marketplace - Trade & Infinity Tokens</h2>
          <div class="hub-grid" style="display:grid; gap:12px; grid-template-columns:repeat(auto-fit, minmax(140px, 1fr));">
            <div class="hub-card" onclick="loadApp('trade')"><div class="hub-icon">ğŸª</div><h3>Infinity Trading</h3></div>
            <div class="hub-card" onclick="loadApp('clothing')"><div class="hub-icon">ğŸ‘”</div><h3>Clothing</h3></div>
            <div class="hub-card" onclick="loadApp('foodtextile')"><div class="hub-icon">ğŸŒ¾</div><h3>Food & Textiles</h3></div>
            <div class="hub-card" onclick="loadApp('glass')"><div class="hub-icon">ğŸº</div><h3>Glass Packaging</h3></div>
            <div class="hub-card" onclick="loadApp('banned')"><div class="hub-icon">âš ï¸</div><h3>Truth DB</h3></div>
            <div class="hub-card" onclick="loadApp('leather')"><div class="hub-icon">ğŸ§¤</div><h3>Leather</h3></div>
          </div>
          <button class="btn-back" onclick="backToMainHub()">â† Back to Main Hub</button>
        </section>

        <!-- SOCIALIZER HUB -->
        <section id="socializerHub" class="app-hub" style="display:block;">
          <h2>Socializer - People & Media</h2>
          <div class="hub-grid" style="display:grid; gap:12px; grid-template-columns:repeat(auto-fit, minmax(140px, 1fr));">
            <div class="hub-card" onclick="loadApp('locals')"><div class="hub-icon">ğŸ“</div><h3>Locals Chat</h3></div>
            <div class="hub-card" onclick="loadApp('videogame')"><div class="hub-icon">ğŸ®</div><h3>Game Generator</h3></div>
            <div class="hub-card" onclick="loadApp('diy')"><div class="hub-icon">ğŸ”¨</div><h3>DIY</h3></div>
            <div class="hub-card" onclick="loadApp('school')"><div class="hub-icon">ğŸ“</div><h3>Infinity School</h3></div>
            <div class="hub-card" onclick="loadApp('channel')"><div class="hub-icon">ğŸ“º</div><h3>Channel Gen</h3></div>
          </div>
          <button class="btn-back" onclick="window.location.href='index.html'">â† Back to Main Hub</button>
        </section>

        <!-- DYNAMIC APP AREA -->
        <section id="appContent" class="app-content" style="display:none;">
          <div id="appContainer" style="min-height:140px; background:rgba(15,23,42,.12); border:1px solid rgba(148,163,184,.08); border-radius:.6rem; padding:.5rem;"></div>
          <button class="btn-back" onclick="backToHub()">â† Back</button>
        </section>
      </main>
    </div>

    <!-- Time Machine -->
    <div class="time-machine" style="position:fixed; bottom:10px; left:10px; background:rgba(3,7,18,.7); border:1px solid rgba(148,163,184,.25); border-radius:.8rem; padding:.4rem .5rem;">
      <h4 style="margin:0 0 .3rem 0; font-size:.55rem;">â° TIME MACHINE</h4>
      <div class="theme-buttons" style="display:flex; gap:.25rem; flex-wrap:wrap; max-width:18rem;">
        <button class="theme-btn" onclick="switchTheme('dark')">Dark</button>
        <button class="theme-btn" onclick="switchTheme('ai')">AI</button>
        <button class="theme-btn" onclick="switchTheme('infinity')">âˆ</button>
      </div>
    </div>
  </div><!-- end #mainApp -->

  <footer style="text-align:center; font-size:.55rem; opacity:.4; padding:10px 0;">
    Powered by Infinity
  </footer>

  <script>
    // ====== LOCAL AUTH; NO GOOGLE ======
    (function(){
      const KEY = "infinityUser";
      window.infinityAuth = {
        get() {
          try {
            const raw = localStorage.getItem(KEY);
            return raw ? JSON.parse(raw) : null;
          } catch(e) { return null; }
        },
        set(user) {
          localStorage.setItem(KEY, JSON.stringify(user));
        },
        clear() {
          localStorage.removeItem(KEY);
        }
      };
    })();

    function showMain(user) {
      document.getElementById("authSection").style.display = "none";
      document.getElementById("mainApp").style.display = "block";
      const name = (user && (user.name || user.email)) ? (user.name || user.email) : "Infinity user";
      const sidebarName = document.getElementById("sidebarName");
      if (sidebarName) sidebarName.textContent = name;
    }

    function infinityLogin() {
      const name = document.getElementById("inf-name").value.trim();
      const email = document.getElementById("inf-email").value.trim();
      if (!name && !email) {
        alert("Enter a name or email.");
        return;
      }
      const user = { name, email, ts: Date.now(), source: "infinity-local" };
      window.infinityAuth.set(user);
      showMain(user);
    }

    function infinityBypass() {
      const user = { name: "Infinity Demo", email: "", ts: Date.now(), source: "bypass" };
      window.infinityAuth.set(user);
      showMain(user);
    }

    function signOut() {
      window.infinityAuth.clear();
      document.getElementById("mainApp").style.display = "none";
      document.getElementById("authSection").style.display = "flex";
    }

    // ====== NAV / HUB LOGIC ======
    function navigateToHome() {
      document.getElementById("mainHub").style.display = "block";
      document.getElementById("portalHub").style.display = "none";
      document.getElementById("marketplaceHub").style.display = "none";
      document.getElementById("socializerHub").style.display = "none";
      document.getElementById("appContent").style.display = "none";
    }

    function showHub(which) {
      document.getElementById("mainHub").style.display = "none";
      document.getElementById("portalHub").style.display = (which === "portal") ? "block" : "none";
      document.getElementById("marketplaceHub").style.display = (which === "marketplace") ? "block" : "none";
      document.getElementById("socializerHub").style.display = (which === "socializer") ? "block" : "none";
      document.getElementById("appContent").style.display = "none";
    }

    function backToMainHub() {
      navigateToHome();
    }

    function backToHub() {
      // just go back to main hub for now
      navigateToHome();
    }

    function loadApp(id) {
      const box = document.getElementById("appContainer");
      document.getElementById("appContent").style.display = "block";
      document.getElementById("portalHub").style.display = "none";
      document.getElementById("marketplaceHub").style.display = "none";
      document.getElementById("socializerHub").style.display = "none";
      box.innerHTML = "<p style='font-size:.6rem;'>Loaded app: <b>" + id + "</b>. Hook your real module here.</p>";
    }

    function toggleSidebar() {
      const sb = document.getElementById("sidebar");
      sb.classList.toggle("open");
    }

    // theme stub
    function switchTheme(name) {
      console.log("switch theme â†’", name);
      // you can add class changes here
    }

    // auto-login if stored
    document.addEventListener("DOMContentLoaded", () => {
      const user = window.infinityAuth.get();
      if (user) {
        showMain(user);
      }
    });
  </script>
</body>
<!-- C13B0_CHAT_WIDGET_BEGIN -->
<style>
  .c13b0-chatfab{position:fixed;right:18px;bottom:18px;z-index:99999;border-radius:999px;padding:12px 14px;font-weight:700;box-shadow:0 10px 30px rgba(0,0,0,.25);cursor:pointer;user-select:none}
  .c13b0-chatpanel{position:fixed;right:18px;bottom:72px;width:min(520px,calc(100vw - 36px));height:min(560px,calc(100vh - 120px));z-index:99999;border-radius:18px;overflow:hidden;box-shadow:0 14px 40px rgba(0,0,0,.35);display:none}
  .c13b0-chathead{padding:10px 12px;font-weight:800;display:flex;align-items:center;justify-content:space-between}
  .c13b0-chatbody{height:calc(100% - 94px);overflow:auto;padding:10px 12px;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;font-size:13px}
  .c13b0-chatline{white-space:pre-wrap;margin:8px 0}
  .c13b0-chatbar{display:flex;gap:8px;padding:10px 12px;border-top:1px solid rgba(255,255,255,.10)}
  .c13b0-chatin{flex:1;border-radius:12px;padding:10px 12px;border:1px solid rgba(255,255,255,.12);outline:none}
  .c13b0-chatbtn{border-radius:12px;padding:10px 12px;font-weight:800;border:0;cursor:pointer}
</style>

<div id="c13b0_chat_fab" class="c13b0-chatfab">ğŸ§±ğŸ’¬ğŸ§± CHAT</div>

<div id="c13b0_chat_panel" class="c13b0-chatpanel" role="dialog" aria-label="C13B0 Chat">
  <div class="c13b0-chathead">
    <div>ğŸ§±ğŸ’¬ğŸ§± Repo Terminal</div>
    <div style="display:flex;gap:8px;align-items:center">
      <small id="c13b0_chat_repo" style="opacity:.8">repo: (auto)</small>
      <button id="c13b0_chat_close" class="c13b0-chatbtn">âœ•</button>
    </div>
  </div>
  <div id="c13b0_chat_body" class="c13b0-chatbody"></div>
  <div class="c13b0-chatbar">
    <input id="c13b0_chat_in" class="c13b0-chatin" placeholder="Ask this repo... (returns tokenized answer)" />
    <button id="c13b0_chat_send" class="c13b0-chatbtn">SEND</button>
  </div>
</div>

<script>
(function(){
  // Theme: tries to inherit page colors; keeps your design intact.
  const fab = document.getElementById("c13b0_chat_fab");
  const panel = document.getElementById("c13b0_chat_panel");
  const body = document.getElementById("c13b0_chat_body");
  const input = document.getElementById("c13b0_chat_in");
  const send = document.getElementById("c13b0_chat_send");
  const close = document.getElementById("c13b0_chat_close");
  const repoLabel = document.getElementById("c13b0_chat_repo");

  const repo = (location.pathname.split("/")[1] || "").trim(); // for org pages itâ€™s the repo root on pages
  repoLabel.textContent = "repo: " + (repo || "(root)");

  // Minimal styling decisions; avoid fighting your CSS
  fab.style.background = "rgba(0,0,0,.82)";
  fab.style.color = "white";
  panel.style.background = "rgba(0,0,0,.90)";
  panel.style.color = "white";
  document.querySelector(".c13b0-chathead").style.borderBottom = "1px solid rgba(255,255,255,.10)";
  input.style.background = "rgba(255,255,255,.06)";
  input.style.color = "white";
  send.style.background = "rgba(255,255,255,.14)";
  send.style.color = "white";
  close.style.background = "rgba(255,255,255,.14)";
  close.style.color = "white";

  function line(txt){
    const div=document.createElement("div");
    div.className="c13b0-chatline";
    div.textContent=txt;
    body.appendChild(div);
    body.scrollTop = body.scrollHeight;
  }

  function open(){ panel.style.display="block"; input.focus(); }
  function shut(){ panel.style.display="none"; }

  fab.addEventListener("click", open);
  close.addEventListener("click", shut);
  window.addEventListener("click",(e)=>{
    if(panel.style.display==="block"){
      // click outside closes
      if(!panel.contains(e.target) && e.target!==fab) shut();
    }
  });

  async function ask(){
    const q=(input.value||"").trim();
    if(!q) return;

    line("> " + q);
    input.value="";

    // Router endpoint (youâ€™ll create it in your router repo)
    // expected response: { ok:true, repo:"x", answer:"...", token:{id:"...", value:"...", type:"..."} }
    try{
      const res = await fetch("/router/ask", {
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body: JSON.stringify({ repo, query:q, t: Date.now() })
      });
      const data = await res.json();
      if(!data || !data.ok){
        line("âš ï¸ Router error: " + (data && data.error ? data.error : "unknown"));
        return;
      }
      if(data.answer) line(data.answer);
      if(data.token){
        line("ğŸ§±ğŸŸ¡ğŸ§± TOKEN â†’ " + JSON.stringify(data.token));
      } else {
        line("ğŸ§±ğŸ“ğŸ§± no token returned");
      }
    }catch(err){
      line("âš ï¸ fetch failed: " + err);
    }
  }

  send.addEventListener("click", ask);
  input.addEventListener("keydown",(e)=>{ if(e.key==="Enter") ask(); });
})();
</script>
<!-- C13B0_CHAT_WIDGET_END -->

<!-- Mongoose.os Integration: Machine OS -->
<script src="https://pewpi-infinity.github.io/mongoose.os/firmware/machine-os.js"></script>
</html>
<!-- C13B0_TOKEN_BLOCK -->
<style>
.c13b0{font-family:monospace;background:#0b0f14;color:#e6edf3;padding:16px}
.c13b0 .value{font-size:2em;color:#ffd700}
.c13b0 button{padding:12px;font-size:1em;width:100%;margin-top:8px}
</style>

<div class="c13b0">
  <h2>ğŸ§±ğŸ„â­ Token</h2>
  <div class="value">Value: 45</div>
  <p>ğŸ§± Base â€¢ ğŸ„ Growth â€¢ â­ Star Power</p>

  <h3>Support / Acquire</h3>
  <p>This token represents real work, research, and structure.</p>

  <a href="https://www.paypal.com/paypalme/watsonkris61@gmail.com/45" target="_blank">
    <button>Pay $45 via PayPal</button>
  </a>

  <p style="font-size:0.8em;">
    PayPal recipient: watsonkris61@gmail.com<br/>
    Repo: Infinity-<br/>
    Generated: 2025-12-20T15:41:15Z
  </p>
</div>


<!-- INDEX_VALUE_START -->
<div class="box">
<h2>ğŸ§± Index License Token</h2>
<p><strong>Operator:</strong> Kris Watson</p>
<p><strong>License Value (monotonic):</strong> $110 USD</p>
<p><small>Value increases daily via Infinity Plus + Mongoose growth.</small></p>
<form action="https://www.paypal.com/paypalme/marvaseater@gmail.com/110" method="get" target="_blank">
  <button type="submit">Buy License Token</button>
</form>
<p><small>Token grants right to display/use/operate this index for business. No ownership transfer.</small></p>
<p><small>Contact: 808-342-9974</small></p>
</div>
<!-- INDEX_VALUE_END -->

<!-- C13B0:MAP_VIEWER -->
<section>
  <h3>ğŸ§±ğŸ”—ğŸ§± Infinity Ecosystem</h3>
  <select onchange="location=this.value">
    <!-- populated by bots -->
  </select>
</section>

<!-- C13B0:PAYPAL_BLOCK -->
<section>
  <h3>ğŸ§±ğŸ’°ğŸ§± Acquire Access License</h3>
  <p>Starting price shown below. Value increases with growth.</p>
  <button>Buy Now (PayPal)</button>
</section>
